#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

message="$(cat $1)"
# æäº¤è§„èŒƒ
requiredPattern="^(feat|fix|docs|style|refactor|perf|test|chore|revert|Merge).*$"

if ! [[ $message =~ $requiredPattern ]]; then
  echo "ğŸš¨ æäº¤ä¿¡æ¯ä¸ç¬¦åˆè§„èŒƒğŸ˜• ï¼è¯·å‚è€ƒä»¥ä¸‹è§„èŒƒï¼š
  -
  feat: æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰
  fix: ä¿®è¡¥ bug
  docs: ä»…ä»…ä¿®æ”¹äº†æ–‡æ¡£ï¼Œæ¯”å¦‚ README, CHANGELOG, CONTRIBUTE ç­‰ç­‰
  style: ä»…ä»…ä¿®æ”¹äº†ç©ºæ ¼ã€æ ¼å¼ç¼©è¿›ã€é€—å·ç­‰ç­‰ï¼Œä¸æ”¹å˜ä»£ç é€»è¾‘
  refactor: ä»£ç é‡æ„ï¼Œæ²¡æœ‰åŠ æ–°åŠŸèƒ½æˆ–è€…ä¿®å¤ bug
  perf: ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ
  test: æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰
  chore: æ”¹å˜æ„å»ºæµç¨‹ã€æˆ–è€…å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰
  revert: å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
  -
  "
  exit 1
fi
